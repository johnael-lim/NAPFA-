
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Angsana NAPFA Score Calculator (P4 & P6, Ages 9â€“13)</title>
<style>
  :root{
    /* Angsana palette */
    --brand:#1e3a8a;   /* deep blue */
    --accent:#42b649;  /* green */
    --heart:#e53935;   /* red/heart */
    --bg:#eef2ff; --card:#ffffff; --ink:#0f172a; --muted:#475569;
    --ring: rgba(30,58,138,.22);
    --radius:24px;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    color:var(--ink);background:linear-gradient(180deg, #eef2ff 0%, #e8f7ee 100%) fixed;}
  header{padding:16px 16px 8px}
  .brandbar{background:var(--brand); color:#fff; padding:14px 16px; display:flex; align-items:center; gap:12px; border-bottom:4px solid var(--accent);}
  .brandbar img{height:44px; width:auto}
  .brand-title{font-weight:900; font-size: clamp(18px,3.4vw,26px); line-height:1.1}
  .subtitle{margin:6px 0 0;font-size: clamp(12px, 2.2vw, 15px);color:#e5e7eb}
  .app{max-width: 1000px;margin: 12px auto 48px;padding: 0 14px 24px}
  .card{background:var(--card);border-radius: var(--radius);box-shadow: 0 10px 25px rgba(2,6,23,.08), 0 2px 6px rgba(2,6,23,.05);
    padding: 16px;margin-bottom: 14px;border:1px solid rgba(15,23,42,.06)}
  .row{display:grid;grid-template-columns: repeat(12,1fr);gap:12px}
  .col-12{grid-column: span 12}.col-6{grid-column: span 12}.col-4{grid-column: span 12}.col-3{grid-column: span 12}
  @media(min-width:720px){.col-6{grid-column: span 6}.col-4{grid-column: span 4}.col-3{grid-column: span 3}}
  label{font-weight:700;font-size:14px;display:block;margin-bottom:6px;color:var(--brand)}
  input, select{width:100%;border-radius:14px;border:1px solid rgba(15,23,42,.12);padding:14px 14px;font-size:16px;outline:none;transition:.18s;border-color,.18s box-shadow;background:#f8fafc}
  input:focus, select:focus{border-color: var(--brand);box-shadow: 0 0 0 4px var(--ring);background:#fff}
  .pill{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;background:#eef2ff;color:var(--brand);font-weight:800;font-size:13px;border:1px solid rgba(30,58,138,.25)}
  .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:14px 18px;border-radius:16px;border:none;cursor:pointer;font-weight:900;letter-spacing:.3px;
    background:linear-gradient(135deg, var(--brand), var(--accent));color:white;box-shadow: 0 10px 20px rgba(30,58,138,.22), 0 2px 6px rgba(66,182,73,.18)}
  .btn:active{transform:translateY(1px)} .btn-outline{background:transparent;color:var(--brand);border:2px solid var(--brand);box-shadow:none}
  .kpi{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin-top:10px}
  .kpi .box{border-radius:16px;padding:12px;text-align:center;background:#f1f5f9;border:1px solid rgba(15,23,42,.06)}
  .grade-chip{display:inline-flex;align-items:center;justify-content:center;min-width:52px;height:38px;border-radius:12px;font-weight:900;font-size:20px;color:white}
  .grade-A{background: linear-gradient(135deg,#22c55e,#16a34a)} .grade-B{background: linear-gradient(135deg,#34d399,#10b981)}
  .grade-C{background: linear-gradient(135deg,#60a5fa,#3b82f6)} .grade-D{background: linear-gradient(135deg,#f59e0b,#d97706)}
  .grade-E{background: linear-gradient(135deg,#f97316,#ea580c)} .grade-0{background: linear-gradient(135deg,#94a3b8,#64748b)}
  table{width:100%;border-collapse:collapse;margin-top:8px} th,td{padding:10px;border-bottom:1px dashed rgba(15,23,42,.1);text-align:left;font-size:15px}
  th{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.12em} .right{text-align:right}
  .award{font-size: clamp(18px, 3vw, 24px); font-weight:900;padding:14px 16px;border-radius:16px;display:inline-flex;align-items:center;gap:10px}
  .gold{background:#fef3c7;border:1px solid #f59e0b} .silver{background:#f1f5f9;border:1px solid #94a3b8} .bronze{background:#fbeede;border:1px solid #f59e0b} .none{background:#fee2e2;border:1px solid #ef4444}
  .info{font-size:12px;color:var(--muted)} .footer-links{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px} .tag{font-size:12px;background:#e2e8f0;padding:6px 10px;border-radius:999px}
  .result-header{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;margin:6px 0 4px}
  .badge{background:#e2e8f0;border:1px solid rgba(15,23,42,.1);border-radius:999px;padding:8px 12px;font-weight:800;color:var(--brand)}
  @media print{ .btn, .btn-outline, details{display:none !important} .brandbar{-webkit-print-color-adjust:exact; print-color-adjust:exact} }
</style>
</head>
<body>
  <!-- Angsana Brand Header -->
  <div class="brandbar">
    <img src="data:image/png;base64,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" alt="Angsana Primary Logo"/>
    <div>
      <div class="brand-title">Angsana Primary â€” NAPFA Score Calculator <span class="pill">P4 &amp; P6 Â· Ages 9â€“13</span></div>
      <div class="subtitle">Enter raw scores â†’ see station grades, points &amp; overall award (uses the correct age rubric).</div>
    </div>
  </div>

  <main class="app">
  <section class="card">
    <div class="row">
      <div class="col-6"><label for="studentName">Student Name</label><input id="studentName" placeholder="e.g., Adam Tan" type="text"/></div>
      <div class="col-6"><label for="studentClass">Class</label><input id="studentClass" placeholder="e.g., 4A / 6C" type="text"/></div>
      <div class="col-4">
        <label for="level">Level</label>
        <select id="level"><option value="P4">P4</option><option value="P6">P6</option></select>
      </div>
      <div class="col-4">
        <label for="gender">Gender</label>
        <select id="gender"><option value="male">Boy</option><option value="female">Girl</option></select>
      </div>
      <div class="col-4">
        <label for="age">Age (choose 9â€“13)</label>
        <select id="age"><option>9</option><option selected>10</option><option>11</option><option>12</option><option>13</option></select>
      </div>
      <div class="col-12">
        <p class="info">Tip: P4 students are usually 10; P6 are usually 12. If you havenâ€™t had your birthday yet, choose your current age (e.g., a P6 still 11 should pick <strong>11</strong>).</p>
      </div>
    </div>
  </section>

  <section class="card">
    <h2 style="margin:0 0 8px;color:var(--brand)">Enter Raw Scores</h2>
    <div class="row">
      <div class="col-6"><label for="situps">Sit-ups (1 min) â€“ reps</label><input id="situps" min="0" placeholder="e.g., 30" type="number"/></div>
      <div class="col-6"><label for="sbj">Standing Broad Jump â€“ cm</label><input id="sbj" min="0" placeholder="e.g., 170" type="number"/></div>
      <div class="col-6"><label for="snr">Sit &amp; Reach â€“ cm</label><input id="snr" placeholder="e.g., 35" step="0.1" type="number"/></div>
      <div class="col-6"><label for="ipu">Inclined Pull-ups (30 s) â€“ reps</label><input id="ipu" min="0" placeholder="e.g., 14" type="number"/></div>
      <div class="col-6"><label for="shuttle">4Ã—10 m Shuttle Run â€“ seconds</label><input id="shuttle" min="0" placeholder="e.g., 11.8" step="0.1" type="number"/></div>
      <div class="col-6"><label for="run16">1.6 km Run â€“ mm:ss</label><input id="run16" placeholder="e.g., 10:30" type="text"/></div>
    </div>
    <div style="display:flex;gap:10px;margin-top:14px;flex-wrap:wrap">
      <button class="btn" id="calcBtn">Calculate Grades</button>
      <button class="btn btn-outline" id="resetBtn">Reset</button>
      <button class="btn btn-outline" id="printBtn">Print / Save PDF</button>
    </div>
  </section>

  <section class="card" id="results" style="display:none">
    <div class="result-header">
      <div class="badge" id="nameBadge">Name: â€”</div>
      <div class="badge" id="classBadge">Class: â€”</div>
      <div class="badge" id="metaBadge">Level: â€” Â· Age: â€” Â· Gender: â€”</div>
    </div>
    <div class="row">
      <div class="col-12">
        <h2 style="margin:0;color:var(--brand)">Results</h2>
        <div class="kpi">
          <div class="box"><div>Total Points</div><div id="totalPts" style="font-size:26px;font-weight:900">-</div></div>
          <div class="box"><div>Average Points</div><div id="avgPts" style="font-size:26px;font-weight:900">-</div></div>
          <div class="box"><div>All Stations â‰¥ Grade</div><div id="minGrade" style="font-size:26px;font-weight:900">-</div></div>
        </div>
      </div>
      <div class="col-12">
        <table>
          <thead>
            <tr><th>Station</th><th class="right">Raw</th><th>Grade</th><th class="right">Points</th></tr>
          </thead>
          <tbody id="tbody"></tbody>
          <tfoot>
            <tr><td colspan="4"><div class="award none" id="awardBadge">â€”</div></td></tr>
          </tfoot>
        </table>
        <div class="footer-links">
          <span class="tag">A=5 Â· B=4 Â· C=3 Â· D=2 Â· E=1</span>
          <span class="tag">Gold: All â‰¥ C &amp; â‰¥ 21 pts</span>
          <span class="tag">Silver: All â‰¥ D &amp; â‰¥ 15 pts</span>
          <span class="tag">Bronze: All â‰¥ E &amp; â‰¥ 6 pts</span>
        </div>
      </div>
    </div>
  </section>

  <section class="card">
    <details>
      <summary style="font-weight:800;cursor:pointer;color:var(--brand)">Tips for students</summary>
      <ul style="margin:8px 0 0;color:var(--muted)">
        <li>Warm up before testing. Hydrate and wear proper shoes.</li>
        <li>Use two attempts for Standing Broad Jump; enter your best jump.</li>
        <li>For times (Shuttle / 1.6â€¯km), a lower number is faster (better).</li>
      </ul>
    </details>
    <p class="info" style="margin-top:10px">Standards source: MOE NAPFA Primary tables (boys &amp; girls, ages 9â€“13, including 1.6â€¯km run).</p>
  </section>
  </main>

<script>
  // ===== Helpers =====
  const levelEl = document.getElementById('level');
  const genderEl = document.getElementById('gender');
  const ageEl = document.getElementById('age');
  const inputs = {
    situps: document.getElementById('situps'),
    sbj: document.getElementById('sbj'),
    snr: document.getElementById('snr'),
    ipu: document.getElementById('ipu'),
    shuttle: document.getElementById('shuttle'),
    run16: document.getElementById('run16'),
  };
  const resultsSec = document.getElementById('results');
  const tbody = document.getElementById('tbody');
  const totalPtsEl = document.getElementById('totalPts');
  const avgPtsEl = document.getElementById('avgPts');
  const minGradeEl = document.getElementById('minGrade');
  const awardBadge = document.getElementById('awardBadge');

  function mmssToSeconds(mmss){
    if(!mmss) return NaN;
    const parts = mmss.split(':');
    if(parts.length !== 2) return NaN;
    const m = parseInt(parts[0],10);
    const s = parseInt(parts[1],10);
    if(isNaN(m) || isNaN(s)) return NaN;
    return m*60 + s;
  }
  function secondsToMMSS(sec){
    if(!isFinite(sec)) return '--:--';
    const m = Math.floor(sec/60);
    const s = Math.round(sec%60);
    return String(m).padStart(1,'0') + ':' + String(s).padStart(2,'0');
  }

  // ===== Standards (same as your original student version) =====
  const STANDARDS = {
    male: {
      9:  {situps:{type:'high',A:35,B:[30,35],C:[25,29],D:[20,24],E:[15,19]},
           sbj:{type:'high',A:168,B:[159,168],C:[149,158],D:[139,148],E:[130,138]},
           snr:{type:'high',A:33,B:[30,33],C:[26,29],D:[21,25],E:[16,20]},
           ipu:{type:'high',A:21,B:[18,21],C:[13,17],D:[9,12],E:[3,8]},
           shuttle:{type:'low',A:11.3,B:[11.3,11.8],C:[11.9,12.2],D:[12.3,12.7],E:[12.8,13.1]},
           run16:{type:'low-mmss',A:'9:40',B:['9:40','10:40'],C:['10:41','11:40'],D:['11:41','12:40'],E:['12:41','13:50']} },
      10: {situps:{type:'high',A:36,B:[31,36],C:[26,30],D:[21,25],E:[17,20]},
           sbj:{type:'high',A:174,B:[165,174],C:[156,164],D:[146,155],E:[137,145]},
           snr:{type:'high',A:35,B:[32,35],C:[28,31],D:[23,27],E:[18,22]},
           ipu:{type:'high',A:22,B:[19,22],C:[14,18],D:[9,13],E:[3,8]},
           shuttle:{type:'low',A:11.1,B:[11.1,11.6],C:[11.7,12.0],D:[12.1,12.4],E:[12.5,12.9]},
           run16:{type:'low-mmss',A:'9:30',B:['9:30','10:30'],C:['10:41','11:40'],D:['11:41','12:40'],E:['12:41','13:50']} },
      11: {situps:{type:'high',A:39,B:[34,39],C:[30,33],D:[25,29],E:[20,24]},
           sbj:{type:'high',A:188,B:[177,188],C:[166,176],D:[155,165],E:[144,154]},
           snr:{type:'high',A:37,B:[34,37],C:[30,33],D:[25,29],E:[20,24]},
           ipu:{type:'high',A:23,B:[20,23],C:[15,19],D:[10,14],E:[4,9]},
           shuttle:{type:'low',A:10.7,B:[10.7,11.2],C:[11.3,11.6],D:[11.7,12.0],E:[12.1,12.5]},
           run16:{type:'low-mmss',A:'8:50',B:['8:50','10:00'],C:['10:01','11:10'],D:['11:11','12:20'],E:['12:21','13:30']} },
      12: {situps:{type:'high',A:41,B:[36,41],C:[32,35],D:[27,31],E:[22,26]},
           sbj:{type:'high',A:202,B:[189,202],C:[176,188],D:[163,175],E:[150,162]},
           snr:{type:'high',A:39,B:[36,39],C:[32,35],D:[28,31],E:[23,27]},
           ipu:{type:'high',A:24,B:[21,24],C:[16,20],D:[11,15],E:[5,10]},
           shuttle:{type:'low',A:10.4,B:[10.4,10.9],C:[11.0,11.3],D:[11.4,11.7],E:[11.8,12.2]},
           run16:{type:'low-mmss',A:'8:40',B:['8:40','9:40'],C:['9:41','10:40'],D:['10:41','11:40'],E:['11:41','12:30']} },
      13: {situps:{type:'high',A:42,B:[38,42],C:[34,37],D:[29,33],E:[25,28]},
           sbj:{type:'high',A:214,B:[202,214],C:[189,201],D:[176,188],E:[164,175]},
           snr:{type:'high',A:41,B:[38,41],C:[34,37],D:[30,33],E:[25,29]},
           ipu:{type:'high',A:25,B:[22,25],C:[17,21],D:[12,16],E:[7,11]},
           shuttle:{type:'low',A:10.3,B:[10.3,10.7],C:[10.8,11.1],D:[11.2,11.5],E:[11.6,11.9]},
           run16:{type:'low-mmss',A:'8:10',B:['8:10','9:10'],C:['9:11','10:10'],D:['10:11','11:00'],E:['11:01','12:00']} }
    },
    female: {
      9:  {situps:{type:'high',A:26,B:[22,26],C:[18,21],D:[14,17],E:[10,13]},
           sbj:{type:'high',A:158,B:[148,158],C:[139,147],D:[129,138],E:[119,128]},
           snr:{type:'high',A:33,B:[31,33],C:[28,30],D:[24,27],E:[19,23]},
           ipu:{type:'high',A:14,B:[12,14],C:[9,11],D:[6,8],E:[2,5]},
           shuttle:{type:'low',A:11.8,B:[11.8,12.3],C:[12.4,12.8],D:[12.9,13.3],E:[13.4,13.8]},
           run16:{type:'low-mmss',A:'10:40',B:['10:40','11:40'],C:['11:41','12:50'],D:['12:51','13:50'],E:['13:51','15:00']} },
      10: {situps:{type:'high',A:27,B:[23,27],C:[19,22],D:[15,18],E:[11,14]},
           sbj:{type:'high',A:161,B:[152,161],C:[143,151],D:[134,142],E:[125,133]},
           snr:{type:'high',A:35,B:[33,35],C:[30,32],D:[26,29],E:[21,25]},
           ipu:{type:'high',A:14,B:[12,14],C:[9,11],D:[6,8],E:[3,5]},
           shuttle:{type:'low',A:11.7,B:[11.7,12.2],C:[12.3,12.7],D:[12.8,13.2],E:[13.3,13.7]},
           run16:{type:'low-mmss',A:'10:30',B:['10:30','11:25'],C:['11:26','12:30'],D:['12:31','13:25'],E:['13:26','14:30']} },
      11: {situps:{type:'high',A:28,B:[24,28],C:[20,23],D:[16,19],E:[12,15]},
           sbj:{type:'high',A:164,B:[156,164],C:[147,155],D:[138,146],E:[129,137]},
           snr:{type:'high',A:37,B:[35,37],C:[32,34],D:[28,31],E:[23,27]},
           ipu:{type:'high',A:15,B:[13,15],C:[10,12],D:[7,9],E:[3,6]},
           shuttle:{type:'low',A:11.6,B:[11.6,12.1],C:[12.2,12.5],D:[12.6,12.9],E:[13.0,13.4]},
           run16:{type:'low-mmss',A:'10:20',B:['10:20','11:10'],C:['11:11','12:10'],D:['12:11','13:00'],E:['13:01','14:00']} },
      12: {situps:{type:'high',A:29,B:[25,29],C:[21,24],D:[17,20],E:[13,16]},
           sbj:{type:'high',A:167,B:[159,167],C:[150,158],D:[141,149],E:[132,140]},
           snr:{type:'high',A:39,B:[37,39],C:[34,36],D:[30,33],E:[25,29]},
           ipu:{type:'high',A:15,B:[13,15],C:[10,12],D:[7,9],E:[3,6]},
           shuttle:{type:'low',A:11.5,B:[11.5,11.9],C:[12.0,12.3],D:[12.4,12.7],E:[12.8,13.2]},
           run16:{type:'low-mmss',A:'10:10',B:['10:10','11:00'],C:['11:01','12:00'],D:['12:01','12:50'],E:['12:51','13:50']} },
      13: {situps:{type:'high',A:30,B:[26,30],C:[22,25],D:[18,21],E:[14,17]},
           sbj:{type:'high',A:170,B:[162,170],C:[153,161],D:[144,152],E:[135,143]},
           snr:{type:'high',A:41,B:[39,41],C:[36,38],D:[32,35],E:[27,31]},
           ipu:{type:'high',A:16,B:[13,16],C:[10,12],D:[7,9],E:[3,6]},
           shuttle:{type:'low',A:11.3,B:[11.3,11.7],C:[11.8,12.2],D:[12.3,12.7],E:[12.8,13.2]},
           run16:{type:'low-mmss',A:'10:00',B:['10:00','10:50'],C:['10:51','11:50'],D:['11:51','12:40'],E:['12:41','13:40']} }
    }
  };

  function inRange(v, lo, hi){ return v>=lo && v<=hi; }
  function gradeFromStandard(station, value, gender, age){
    const std = STANDARDS[gender][age][station];
    if(value==null || value==='' || (station!=='run16' && isNaN(value))) return {grade:'-', points:0};
    if(std.type==='high'){
      const v = Number(value);
      if(v >= (std.A)) return {grade:'A', points:5};
      if(inRange(v, std.B[0], std.B[1])) return {grade:'B', points:4};
      if(inRange(v, std.C[0], std.C[1])) return {grade:'C', points:3};
      if(inRange(v, std.D[0], std.D[1])) return {grade:'D', points:2};
      if(inRange(v, std.E[0], std.E[1])) return {grade:'E', points:1};
      return {grade:'0', points:0};
    } else if(std.type==='low'){
      const v = Number(value);
      if(v <= (std.A)) return {grade:'A', points:5};
      if(inRange(v, std.B[0], std.B[1])) return {grade:'B', points:4};
      if(inRange(v, std.C[0], std.C[1])) return {grade:'C', points:3};
      if(inRange(v, std.D[0], std.D[1])) return {grade:'D', points:2};
      if(inRange(v, std.E[0], std.E[1])) return {grade:'E', points:1};
      return {grade:'0', points:0};
    } else if(std.type==='low-mmss'){
      const secs = mmssToSeconds(String(value));
      if(!isFinite(secs)) return {grade:'-', points:0};
      const a = mmssToSeconds(std.A);
      if(secs <= a) return {grade:'A', points:5};
      const b0 = mmssToSeconds(std.B[0]), b1 = mmssToSeconds(std.B[1]);
      const c0 = mmssToSeconds(std.C[0]), c1 = mmssToSeconds(std.C[1]);
      const d0 = mmssToSeconds(std.D[0]), d1 = mmssToSeconds(std.D[1]);
      const e0 = mmssToSeconds(std.E[0]), e1 = mmssToSeconds(std.E[1]);
      if(inRange(secs,b0,b1)) return {grade:'B', points:4};
      if(inRange(secs,c0,c1)) return {grade:'C', points:3};
      if(inRange(secs,d0,d1)) return {grade:'D', points:2};
      if(inRange(secs,e0,e1)) return {grade:'E', points:1};
      return {grade:'0', points:0};
    }
    return {grade:'-', points:0};
  }

  function minGrade(grades){
    const order = ['A','B','C','D','E','0','-'];
    let worstIndex = -1;
    for(const g of grades){
      const i = order.indexOf(g);
      if(i>worstIndex) worstIndex = i;
    }
    return order[worstIndex] || '-';
  }

  function compute(){
    const gender = genderEl.value;
    const age = Number(ageEl.value);

    const raw = {
      'Sit-ups (1 min)': Number(inputs.situps.value),
      'Standing Broad Jump (cm)': Number(inputs.sbj.value),
      'Sit & Reach (cm)': Number(inputs.snr.value),
      'Inclined Pull-ups (30 s)': Number(inputs.ipu.value),
      '4Ã—10m Shuttle Run (s)': Number(inputs.shuttle.value),
      '1.6 km Run (mm:ss)': inputs.run16.value.trim()
    };
    if(raw['1.6 km Run (mm:ss)'] && isNaN(mmssToSeconds(raw['1.6 km Run (mm:ss)']))){
      alert("Please enter 1.6 km time in mm:ss (e.g., 10:45).");
      return;
    }

    const rows = [
      {station:'situps', label:'Sit-ups (1 min)', raw: raw['Sit-ups (1 min)']},
      {station:'sbj', label:'Standing Broad Jump (cm)', raw: raw['Standing Broad Jump (cm)']},
      {station:'snr', label:'Sit & Reach (cm)', raw: raw['Sit & Reach (cm)']},
      {station:'ipu', label:'Inclined Pull-ups (30 s)', raw: raw['Inclined Pull-ups (30 s)']},
      {station:'shuttle', label:'4Ã—10m Shuttle Run (s)', raw: raw['4Ã—10m Shuttle Run (s)']},
      {station:'run16', label:'1.6 km Run (mm:ss)', raw: raw['1.6 km Run (mm:ss)']},
    ];

    let total = 0;
    const gradeList = [];
    tbody.innerHTML = '';

    for(const r of rows){
      const val = r.station==='run16' ? raw['1.6 km Run (mm:ss)'] : Number(r.raw);
      const res = gradeFromStandard(r.station, val, gender, age);
      total += res.points;
      gradeList.push(res.grade);
      const tr = document.createElement('tr');
      const gradeClass = 'grade-' + (res.grade==='-'? '0' : res.grade);
      tr.innerHTML = `
        <td>${r.label}</td>
        <td class="right">${r.station==='run16' ? (val||'') : (isFinite(val)? val:'' )}</td>
        <td><span class="grade-chip ${gradeClass}">${res.grade}</span></td>
        <td class="right"><strong>${res.points}</strong></td>
      `;
      tbody.appendChild(tr);
    }

    const avg = total/6;
    totalPtsEl.textContent = total.toFixed(0);
    avgPtsEl.textContent = avg.toFixed(2);
    minGradeEl.textContent = minGrade(gradeList);

    // Award logic
    const allAtLeast = (g) => {
      const order = {A:5,B:4,C:3,D:2,E:1,'0':0,'-':0};
      return gradeList.every(x => order[x] >= order[g]);
    };
    let award = {name:'No Award', class:'none', emoji:'ðŸ“˜'};
    if(allAtLeast('C') && total >= 21) award = {name:'GOLD', class:'gold', emoji:'ðŸ¥‡'};
    else if(allAtLeast('D') && total >= 15) award = {name:'SILVER', class:'silver', emoji:'ðŸ¥ˆ'};
    else if(allAtLeast('E') && total >= 6) award = {name:'BRONZE', class:'bronze', emoji:'ðŸ¥‰'};

    awardBadge.className = 'award ' + award.class;
    awardBadge.textContent = `${award.emoji} ${award.name}`;

    resultsSec.style.display = 'block';
    window.scrollTo({top: resultsSec.offsetTop-20, behavior:'smooth'});
  }

  // Prefill age from level, but keep it editable
  function syncAgeToLevel(){
    if(levelEl.value === 'P4' && (ageEl.value !== '9' && ageEl.value !== '10')) ageEl.value = '10';
    if(levelEl.value === 'P6' && (ageEl.value !== '11' && ageEl.value !== '12')) ageEl.value = '12';
  }
  levelEl.addEventListener('change', ()=>{ syncAgeToLevel(); resultsSec.style.display = 'none'; savePrefs(); });

  document.getElementById('calcBtn').addEventListener('click', compute);
  document.getElementById('resetBtn').addEventListener('click', ()=>{ for(const el of Object.values(inputs)){ el.value=''; } resultsSec.style.display='none'; });
  document.getElementById('printBtn').addEventListener('click', ()=>window.print());

  // Persist last used settings + student name/class
  function savePrefs(){
    try{
      const obj = {
        level:levelEl.value, gender:genderEl.value, age:ageEl.value,
        name: document.getElementById('studentName')?.value || '',
        klass: document.getElementById('studentClass')?.value || ''
      };
      localStorage.setItem('napfa_prefs_v3_ang', JSON.stringify(obj));
    }catch(e){}
  }
  function loadPrefs(){
    try{
      const p = JSON.parse(localStorage.getItem('napfa_prefs_v3_ang')||'{}');
      if(p.level) levelEl.value = p.level;
      if(p.gender) genderEl.value = p.gender;
      if(p.age) ageEl.value = p.age;
      if(p.name) document.getElementById('studentName').value = p.name;
      if(p.klass) document.getElementById('studentClass').value = p.klass;
    }catch(e){}
  }
  levelEl.addEventListener('change', savePrefs);
  genderEl.addEventListener('change', savePrefs);
  ageEl.addEventListener('change', savePrefs);
  document.getElementById('studentName').addEventListener('input', savePrefs);
  document.getElementById('studentClass').addEventListener('input', savePrefs);
  loadPrefs();

  // Badges update on compute
  const nameEl = document.getElementById('studentName');
  const classEl = document.getElementById('studentClass');
  const nameBadge = document.getElementById('nameBadge');
  const classBadge = document.getElementById('classBadge');
  const metaBadge = document.getElementById('metaBadge');
  function updateBadges(){
    if(nameBadge) nameBadge.textContent = 'Name: ' + (nameEl?.value?.trim() || 'â€”');
    if(classBadge) classBadge.textContent = 'Class: ' + (classEl?.value?.trim() || 'â€”');
    if(metaBadge) metaBadge.textContent = `Level: ${levelEl.value} Â· Age: ${ageEl.value} Â· Gender: ${genderEl.value==='male'?'Boy':'Girl'}`;
  }
  const __origCalc__ = document.getElementById('calcBtn').onclick;
  document.getElementById('calcBtn').onclick = function(){ updateBadges(); compute(); };
</script>
</body>
</html>
